<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Configuration Options | Bitprim Documentation Site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Configuration Options | Bitprim Documentation Site ">
    <meta name="generator" content="docfx 2.39.2.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../content/assets/b.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="configuration-options">Configuration Options</h1>

<p>You need to create an appsettings.json file in the build directory to run the application. You can use appsettings.example.json as a starting point.</p>
<p>Eg.</p>
<pre><code>{
  &quot;ApiPrefix&quot; : &quot;api&quot;,
  &quot;AcceptStaleRequests&quot; : true,
  &quot;AllowedOrigins&quot;: &quot;http://localhost:1549&quot;,
  &quot;Connections&quot;: 8,
  &quot;DateInputFormat&quot;: &quot;yyyy-MM-dd&quot;,
  &quot;EstimateFeeDefault&quot;: &quot;0.00001000&quot;,
  &quot;ForwardUrl&quot; : &quot;http://localhost:1234&quot;,
  &quot;InitializeNode&quot; : true,
  &quot;LongResponseCacheDurationInSeconds&quot;: 86400,
  &quot;MaxAddressesPerQuery&quot;: 10,
  &quot;MaxBlockSummarySize&quot;: 500,
  &quot;MaxCacheSize&quot;: 50000,
  &quot;MaxSocketPublishRetries&quot;: 3,
  &quot;NodeConfigFile&quot;: &quot;config.cfg&quot;,
  &quot;NodeType&quot;: &quot;bitprim node&quot;,
  &quot;PoolsFile&quot;:  &quot;pools.json&quot;, 
  &quot;ProtocolVersion&quot;: &quot;70015&quot;,
  &quot;Proxy&quot;: &quot;&quot;,
  &quot;RelayFee&quot;: &quot;0.00001&quot;,
  &quot;ShortResponseCacheDurationInSeconds&quot;: 30,
  &quot;SocketPublishRetryIntervalInSeconds&quot;: 1,
  &quot;TimeOffset&quot;: &quot;0&quot;,
  &quot;TransactionsByAddressPageSize&quot;: 10,
  &quot;Version&quot;: &quot;170000&quot;,
  &quot;HttpClientTimeoutInSeconds&quot; : 5,
  &quot;WebsocketsEnabled&quot;: true,
  &quot;WebsocketsMsgBlockEnabled&quot;: true,
  &quot;WebsocketsMsgTxEnabled&quot;: true,
  &quot;WebsocketsMsgTxIncludeVout&quot;: false,
  &quot;WebsocketsMsgAddressTxEnabled&quot;: true,
  &quot;WebsocketsForwarderClientRetryDelay&quot;: 10,
  &quot;Serilog&quot;:
  {
    &quot;Using&quot;: [&quot;Serilog.Sinks.Console&quot;, &quot;Serilog.Sinks.File&quot;],
    &quot;MinimumLevel&quot;:
    {
      &quot;Default&quot;: &quot;Information&quot;,
      &quot;Override&quot;:
      {
        &quot;Microsoft&quot;: &quot;Warning&quot;
      }
    },
    &quot;WriteTo&quot;:
    [
      {
        &quot;Name&quot;: &quot;Console&quot;,
        &quot;Args&quot;:
        {
          &quot;outputTemplate&quot; : &quot;[{Timestamp:yyyy-MM-dd HH:mm:ss} {TimeZone}] {Level:u3} {SourceIP} {RequestId} {HttpMethod} {RequestPath} {HttpProtocol} {HttpResponseStatusCode} {HttpResponseLength} {ElapsedMs} {Message:lj}{NewLine}{Exception}&quot;
        }
      },
      {
        &quot;Name&quot;: &quot;File&quot;,
        &quot;Args&quot;:
        {
           &quot;path&quot;: &quot;log-.txt&quot;,
           &quot;rollingInterval&quot;: &quot;Day&quot;,
           &quot;fileSizeLimitBytes&quot;: null,
           &quot;retainedFileCountLimit&quot; : 5, 
           &quot;outputTemplate&quot; : &quot;[{Timestamp:yyyy-MM-dd HH:mm:ss} {TimeZone}] {Level:u3} {SourceIP} {RequestId} {HttpMethod} {RequestPath} {HttpProtocol} {HttpResponseStatusCode} {HttpResponseLength} {ElapsedMs} {Message:lj}{NewLine}{Exception}&quot;
        }
      }
    ],
    &quot;Enrich&quot;: [&quot;FromLogContext&quot;]
  }
}
</code></pre>
<p>All the settings can be passed as command line arguments prefixing the name with '--'</p>
<p>Eg.</p>
<pre><code>dotnet bin/x64/Release/netcoreapp2.0/published/bitprim.insight.dll --server.port=3000 --server.address=0.0.0.0 --MaxBlockSummarySize=1000
</code></pre>
<p>The application has two different operation modes. As a <strong>Full Node</strong> or a <strong>Forwarder</strong>.</p>
<p>In <strong>Full Node</strong> mode, the application starts a full Bitprim node, generating a copy of the blockchain.</p>
<p>In <strong>Forwarder</strong> mode, the application only relays the request to a <strong>Full Node</strong> application.</p>
<h3 id="settings">Settings</h3>
<p><strong>ApiPrefix</strong>: Defines the name of the url segment where you expose the api methods.</p>
<pre><code>http://blockdozer.com/[ApiPrefix]/blocks/
</code></pre>
<p><em>Default value:api</em></p>
<p><strong>AcceptStaleRequests</strong>: Allows the API to respond to requests even if the chain is stale (the local copy of the blockchain isn't fully synchronized with the network).
<em>Default value:true</em></p>
<p><strong>AllowedOrigins</strong>: Configure the allowed CORS origins. For multiple origins, separate them with semicolon (;).
<em>Default value:</em>*</p>
<p><strong>Connections</strong>: Configures the value returned in the <em>connection</em> element of the /status request.
<em>Default value:8</em></p>
<p><strong>DateInputFormat</strong>: Defines the date format used by /blocks and other requests that require dates.
<em>Default value:yyyy-MM-dd</em></p>
<p><strong>EstimateFeeDefault</strong>: Sets the value returned by /utils/estimatefee.
<em>Default value:0.00001000</em></p>
<p><strong>ForwardUrl</strong>: When you use the application in <strong>Forwarder</strong> mode, this settings defines the Full Node's URL.
<em>Default value:&quot;&quot;</em></p>
<p><strong>InitializeNode</strong>: This setting defines the node's working mode: <em>True</em> for Full Node, <em>False</em> for Forwarder Node.
<em>Default value:true</em></p>
<p><strong>LongResponseCacheDurationInSeconds</strong>: Duration of the long cache responses. Used to cache results for the following requests:</p>
<ul>
<li>/rawblock</li>
<li>/rawtx
<em>Default value:86400</em></li>
</ul>
<p><strong>MaxAddressesPerQuery</strong>: Define the max address allowed per query. Used in the following requests:</p>
<ul>
<li>/addrs/{paymentAddresses}/utxo</li>
<li>/addrs/utxo</li>
<li>/addrs/{paymentAddresses}/txs
<em>Default value:10</em></li>
</ul>
<p><strong>MaxBlockSummarySize</strong>: Defines the max limit of the /blocks method.
<em>Default value:500</em></p>
<p><strong>MaxCacheSize</strong>: Configures the cache size limit; this is an adimensional value, because measuring object size is not trivial. The size for each cache entry is also adimensional and arbitrarily set by the user. The total size sum will never exceed this value.
<em>Default value:50000</em></p>
<p><strong>MaxSocketPublishRetries</strong>: Defines how many times the server retries when publishing websocket messages before throwing an exception.<br>
<em>Default value:3</em></p>
<p><strong>NodeConfigFile</strong>: Node config file path; can be absolute, or relative to the project directory. Only use in <strong>Full Node</strong> mode.
<em>Default value:&quot;&quot;</em></p>
<p><strong>NodeType</strong>: The value returned in <em>type</em> element by the /sync method.
<em>Default value:bitprim node</em></p>
<p><strong>PoolsFile</strong>: Path to the json file with the mining pool information.
<em>Default value:pools.json</em></p>
<p><strong>ProtocolVersion</strong>: The value returned in <em>protocolversion</em> element by the /status method.
<em>Default value:70015</em></p>
<p><strong>Proxy</strong>: The value returned in <em>proxy</em> element by the /status method.
<em>Default value:&quot;&quot;</em></p>
<p><strong>RelayFee</strong>: The value returned in <em>relayfee</em> element by the /status method.
<em>Default value:0.00001</em></p>
<p><strong>ShortResponseCacheDurationInSeconds</strong>: Duration of the short cache responses. Used to cache results for the following requests:</p>
<ul>
<li>/txs</li>
<li>/addrs/{paymentAddresses}/txs</li>
<li>/addrs/txs</li>
<li>/tx/{hash}</li>
<li>/txs</li>
<li>/rawblock-index/{height}</li>
<li>/blocks</li>
<li>/block/{hash}</li>
<li>/block-index/{height}</li>
<li>/sync</li>
<li>/status</li>
<li>/addr/{paymentAddress}/balance</li>
<li>/addr/{paymentAddress}/totalReceived</li>
<li>/addr/{paymentAddress}/totalSent</li>
<li>/addr/{paymentAddress}/unconfirmedBalance</li>
<li>/addr/{paymentAddress}/utxo</li>
<li>/addrs/{paymentAddresses}/utxo</li>
<li>/addrs/utxo</li>
<li>/addr/{paymentAddress}</li>
<li>/peer</li>
<li>/version
<em>Default value:30</em></li>
</ul>
<p><strong>SocketPublishRetryIntervalInSeconds</strong>: Delay in seconds between retries for &quot;Publish&quot; websocket messages.
<em>Default value:1</em></p>
<p><strong>MaxSocketPublishRetries</strong>: Maximum number of retries for a &quot;Publish&quot; websocket message
<em>Default value:3</em></p>
<p><strong>TimeOffset</strong>: The value returned in <em>timeoffset</em> element by the /status method.
<em>Default value:0</em></p>
<p><strong>TransactionsByAddressPageSize</strong>: The max page limit used by the /txs method.
<em>Default value:10</em></p>
<p><strong>Version</strong>: The value returned in <em>version</em> element by the /status method.
<em>Default value:&quot;&quot;</em></p>
<p><strong>HttpClientTimeoutInSeconds</strong>: Defines HttpClient timeout. Used in forwarder mode.
<em>Default value:5</em></p>
<p><strong>WebsocketsEnabled</strong>: Define if the node accepts websocket requests.
<em>Default value:true</em></p>
<p><strong>WebsocketsMsgBlockEnabled</strong>: Define if the node sends block messages.
<em>Default value:true</em></p>
<p><strong>WebsocketsMsgTxEnabled</strong>: Define if the node sends tx messages.
<em>Default value:true</em></p>
<p><strong>WebsocketsMsgTxIncludeVout</strong>: If and only if true, include transaction outputs in tx web socket message.
If included, outputs will be represented as an array of (address, amount) pairs.
<em>Default value:false</em></p>
<p><strong>WebsocketsMsgAddressTxEnabled</strong>: Define if the node sends addresstx messages.
<em>Default value:true</em></p>
<p><strong>WebsocketsForwarderClientRetryDelay</strong>: The delay in seconds beetween retries when the websocket connection to the fullnode fails.
<em>Default value:10</em></p>
<p><strong>Serilog</strong>: The Serilog configuration. For more detailed documentation, check <a href="https://github.com/serilog/serilog/wiki/Getting-Started">https://github.com/serilog/serilog/wiki/Getting-Started</a></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/bitprim/bitprim-docs/blob/master/content/developer_guide/restapi/configuration.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © 2018 Bitprim</span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
